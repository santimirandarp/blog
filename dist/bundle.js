(()=>{"use strict";const e=e=>{""==e.style.display||"none"==e.style.display?e.style.display="block":e.style.display="none"},n=document.querySelector,t=n("#comments"),a=t.getElementById("commentsList"),s=t.getElementById("form"),c=t.getElementById("loadOlderComments"),o=t.querySelector(".comments_thatsIt");o.style.display="none";const l=n("#comments .comments_info");l.style.display="none";const r=e=>{0!=e.length?e.forEach((e=>a.insertAdjacentHTML("beforeend",i(e)))):(o.innerHTML="All comments were loaded.",o.style.display="block",setTimeout((()=>o.style.display="none"),3e3))},i=({name:e,msg:n,date:t},a=!0)=>'<li class="comments_message '.concat(a=a?"comments_message-preview":null,'">')+"<h3>".concat(e,"</h3><p>").concat(n,"</p><p>").concat(t,"</p>")+"</li>",m=e=>[e,e+10],d=async e=>{let n="comments/".concat(e[0],"/").concat(e[1]);return(await fetch(n)).json()};window.addEventListener("load",(()=>d(m(0)).then((e=>r(e))).catch((()=>console.error("There was a problem"))))),c.addEventListener("click",(()=>{const e=a.children.length;d(m(e)).then((e=>r(e))).catch((()=>console.error("There was a problem")))})),a.addEventListener("click",(()=>e(n("#comments form")))),s.addEventListener("submit",(e=>{const t=n("#comments form"),s=t.querySelector("input[name='name']"),c=t.querySelector("input[name='email']"),o=t.querySelector("textarea[name='msg']");e.preventDefault();const r={name:s.value,email:c.value,msg:o.value};(async e=>(await fetch("/comments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json())(r).then((e=>{t.style.display="none",l.style.display="block",l.innerHTML="<happy/>; ".concat(e.msg,". Comment will be public shortly (we show a preview)."),a.insertAdjacentHTML("afterbegin",i(r)),setTimeout((()=>{l.style.display="none",l.innerHTML=""}),3e3)})).catch((()=>console.log("There was an error")))}));const y=(0,document.querySelector)("#gallery .imgGal");window.addEventListener("load",(async()=>{(await fetch("/gallery")).json().images.forEach((e=>{const n=e.slice(8),t=n.replace(/_/g," ").split(".")[0],a='<a href="images/gallery/'.concat(n,"\">\n    <figure class=\"pictures\">\n    <img loading='lazy' src='images/gallery/").concat(e,"' alt='").concat(t,"'/>\n    <figcaption>").concat(t,"</figcaption>\n    </figure></a>");y.insertAdjacentHTML("beforeend",a)}))}));document.querySelectorAll(".places .reviewSpan").forEach((n=>{n.addEventListener("click",(()=>{const t=n.nextElementSibling();e(t)}))}))})();